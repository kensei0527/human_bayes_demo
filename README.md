# 🎯 Human Bayesian Inference Demo

人間がベイズ推論を体験できるインタラクティブなWebアプリケーションです。

## 📖 概要

このデモでは、交渉シミュレーションを通じて、ベイズ推論がどのように機能するかを体験できます。
ユーザーは配分提案を行い、AIエージェントの感情反応を観察しながら、エージェントの隠れたパラメータ（θとw）を推定します。

## 🎮 使い方

1. **W_SELF設定**: 上部のスライダーであなたの価値観（各アイテムの重み）を設定
2. **配分設定**: 各アイテムの自分への配分をスライダーで設定
3. **Apply Offer**: オファーを送信してエージェントの感情反応を確認
4. **事後分布の観察**: θとwの事後分布グラフがリアルタイムで更新されます
5. **New Game**: 新しいランダムなエージェントでゲーム開始
6. **正解を見る**: エージェントの真のパラメータを表示

## 🧠 モデル説明

### パラメータ

- **θ (SVO角度)**: エージェントの社会的価値志向 (-90° 〜 90°)
  - 90°: 完全な利他主義
  - 0°: 利己主義
  - -90°: 競争的

- **w (重みベクトル)**: 各アイテムに対するエージェントの価値観 (各成分 -4 〜 4)

### 感情ラベル

| ラベル | 意味 |
|--------|------|
| 😠 ANGER | 怒り（非常に不満） |
| 😐 NEUTRAL | 中立 |
| 🙂 JOY 1-7 | 喜び（レベル1〜7） |

## 🔴 テストパターン

### 苦手な組み合わせ（モデルが推定に苦戦）
- `extreme_neg_1st × -30°`
- `balanced_neg × 0°`
- `skewed_3rd × -15°`
- `triple_124 × 0°`
- `balanced_pos × 0°`
- `diagonal_1/2 × 45°`

### 得意な組み合わせ（モデルが高精度で推定）
- 全パターン × 90°
- 全パターン × 75°
- `ascending × 全角度`
- `skewed_1st × -45°〜-30°`
- `uniform × -15°`

## 📁 ファイル構成

```
human_bayes_demo/
├── index.html          # メインHTML
├── style.css           # スタイルシート
├── bayesian_engine.js  # ベイズ推論エンジン
├── app.js              # UIコントローラー
└── README.md           # このファイル
```

## 🚀 実行方法

1. `index.html` をブラウザで開く
2. または、ローカルサーバーを起動:
   ```bash
   # Python 3
   python -m http.server 8000
   
   # Node.js
   npx serve
   ```

## 📊 技術詳細

- **ベイズ更新**: 観測された感情から事後分布を更新
- **尤度計算**: 予測感情と観測感情の一致度に基づく
- **グリッド近似**: θ（5°刻み）とw（1刻み）の離散グリッド上で計算

## 📝 ライセンス

MIT License

## 🔗 関連

このプロジェクトは、交渉AIにおける心の理論（Theory of Mind）研究の一環として開発されました。
